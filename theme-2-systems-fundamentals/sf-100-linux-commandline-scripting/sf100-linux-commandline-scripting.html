<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>sf100-linux-commandline-scripting – X-CITE</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-6bd9cfa162949bde0a231f530c97869d.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">X-CITE</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#linux-commandline-and-scripting" id="toc-linux-commandline-and-scripting" class="nav-link active" data-scroll-target="#linux-commandline-and-scripting">Linux, Commandline, and Scripting</a>
  <ul class="collapse">
  <li><a href="#some-words-about-linux" id="toc-some-words-about-linux" class="nav-link" data-scroll-target="#some-words-about-linux">Some words about Linux</a></li>
  <li><a href="#some-words-about-command-line" id="toc-some-words-about-command-line" class="nav-link" data-scroll-target="#some-words-about-command-line">Some words about command line</a></li>
  </ul></li>
  <li><a href="#the-shell" id="toc-the-shell" class="nav-link" data-scroll-target="#the-shell">The shell</a>
  <ul class="collapse">
  <li><a href="#shell-history" id="toc-shell-history" class="nav-link" data-scroll-target="#shell-history">Shell history</a></li>
  <li><a href="#command-completion" id="toc-command-completion" class="nav-link" data-scroll-target="#command-completion">Command completion</a></li>
  <li><a href="#exiting-a-shell" id="toc-exiting-a-shell" class="nav-link" data-scroll-target="#exiting-a-shell">Exiting a shell</a></li>
  </ul></li>
  <li><a href="#environment-variables" id="toc-environment-variables" class="nav-link" data-scroll-target="#environment-variables">Environment variables</a>
  <ul class="collapse">
  <li><a href="#how-bash-sets-up-the-environment" id="toc-how-bash-sets-up-the-environment" class="nav-link" data-scroll-target="#how-bash-sets-up-the-environment">How bash sets up the environment</a></li>
  <li><a href="#changing-environment-variables" id="toc-changing-environment-variables" class="nav-link" data-scroll-target="#changing-environment-variables">Changing environment variables</a></li>
  </ul></li>
  <li><a href="#directory-navigation" id="toc-directory-navigation" class="nav-link" data-scroll-target="#directory-navigation">Directory navigation</a>
  <ul class="collapse">
  <li><a href="#directory-structure" id="toc-directory-structure" class="nav-link" data-scroll-target="#directory-structure">Directory structure</a></li>
  <li><a href="#absolute-and-relative-paths" id="toc-absolute-and-relative-paths" class="nav-link" data-scroll-target="#absolute-and-relative-paths">Absolute and relative paths</a></li>
  <li><a href="#wildcard-operator" id="toc-wildcard-operator" class="nav-link" data-scroll-target="#wildcard-operator">Wildcard operator</a></li>
  <li><a href="#the-current-working-directory" id="toc-the-current-working-directory" class="nav-link" data-scroll-target="#the-current-working-directory">The current working directory</a></li>
  <li><a href="#users-and-groups" id="toc-users-and-groups" class="nav-link" data-scroll-target="#users-and-groups">Users and groups</a></li>
  <li><a href="#permissions-and-ownership" id="toc-permissions-and-ownership" class="nav-link" data-scroll-target="#permissions-and-ownership">Permissions and ownership</a>
  <ul class="collapse">
  <li><a href="#changing-permissions-with-chmod" id="toc-changing-permissions-with-chmod" class="nav-link" data-scroll-target="#changing-permissions-with-chmod">Changing permissions with <code>chmod</code></a></li>
  </ul></li>
  <li><a href="#symbolic-links" id="toc-symbolic-links" class="nav-link" data-scroll-target="#symbolic-links">Symbolic links</a></li>
  <li><a href="#noteworthy-facts-about-file-names" id="toc-noteworthy-facts-about-file-names" class="nav-link" data-scroll-target="#noteworthy-facts-about-file-names">Noteworthy facts about file names</a></li>
  </ul></li>
  <li><a href="#standard-input-output-and-error" id="toc-standard-input-output-and-error" class="nav-link" data-scroll-target="#standard-input-output-and-error">Standard input, output, and error</a>
  <ul class="collapse">
  <li><a href="#io-redirection" id="toc-io-redirection" class="nav-link" data-scroll-target="#io-redirection">I/O redirection</a></li>
  <li><a href="#pipes" id="toc-pipes" class="nav-link" data-scroll-target="#pipes">Pipes</a></li>
  </ul></li>
  <li><a href="#controlling-processes" id="toc-controlling-processes" class="nav-link" data-scroll-target="#controlling-processes">Controlling processes</a>
  <ul class="collapse">
  <li><a href="#listing-processes" id="toc-listing-processes" class="nav-link" data-scroll-target="#listing-processes">Listing processes</a></li>
  <li><a href="#background-and-foreground-processes" id="toc-background-and-foreground-processes" class="nav-link" data-scroll-target="#background-and-foreground-processes">Background and foreground processes</a></li>
  <li><a href="#terminating-processes" id="toc-terminating-processes" class="nav-link" data-scroll-target="#terminating-processes">Terminating processes</a></li>
  <li><a href="#signals" id="toc-signals" class="nav-link" data-scroll-target="#signals">Signals</a></li>
  </ul></li>
  <li><a href="#useful-commands" id="toc-useful-commands" class="nav-link" data-scroll-target="#useful-commands">Useful commands</a>
  <ul class="collapse">
  <li><a href="#a-cheat-sheet" id="toc-a-cheat-sheet" class="nav-link" data-scroll-target="#a-cheat-sheet">A cheat sheet</a></li>
  <li><a href="#shell-builtins" id="toc-shell-builtins" class="nav-link" data-scroll-target="#shell-builtins">Shell builtins</a></li>
  <li><a href="#aliases" id="toc-aliases" class="nav-link" data-scroll-target="#aliases">Aliases</a></li>
  </ul></li>
  <li><a href="#regular-expressions" id="toc-regular-expressions" class="nav-link" data-scroll-target="#regular-expressions">Regular expressions</a></li>
  <li><a href="#editors" id="toc-editors" class="nav-link" data-scroll-target="#editors">Editors</a></li>
  <li><a href="#writing-shell-scripts" id="toc-writing-shell-scripts" class="nav-link" data-scroll-target="#writing-shell-scripts">Writing shell scripts</a></li>
  <li><a href="#nifty-terminal-multiplexers" id="toc-nifty-terminal-multiplexers" class="nav-link" data-scroll-target="#nifty-terminal-multiplexers">Nifty: terminal multiplexers</a></li>
  <li><a href="#finding-help-and-documentation" id="toc-finding-help-and-documentation" class="nav-link" data-scroll-target="#finding-help-and-documentation">Finding help and documentation</a></li>
  <li><a href="#further-reading" id="toc-further-reading" class="nav-link" data-scroll-target="#further-reading">Further reading</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<section id="linux-commandline-and-scripting" class="level1">
<h1>Linux, Commandline, and Scripting</h1>
<p>The following notes assume that you are all set up to use your accounts on the CLASSE Linux systems.</p>
<ul>
<li>You know how to use <code>ssh</code> to access <code>lnx201</code>; or</li>
<li>You know how to launch a terminal from CLASSE JupyterLab instance.</li>
</ul>
<p>Depending on your level of familiarity with the system, you might know enough commands to find your way around.</p>
<p>But it probably is not a good idea to assume that you know your way around, so let us see what you might need to know to in order to become a proficient user of the systems.</p>
<section id="some-words-about-linux" class="level2">
<h2 class="anchored" data-anchor-id="some-words-about-linux">Some words about Linux</h2>
</section>
<section id="some-words-about-command-line" class="level2">
<h2 class="anchored" data-anchor-id="some-words-about-command-line">Some words about command line</h2>
<p>Suppose you want to find all the text files in a directory that contain a certain pattern, like “hello”. How would you do that?</p>
<p>Now suppose you want to replace all instances of “hello” with “bonjour”. How would you do that?</p>
<p>You can do these things using the Linux command line. You would be invoking commands like <code>find</code> and <code>grep</code> and <code>sed</code> and <code>awk</code>, instead of using programs with a graphical user interfaces.</p>
<p>Plenty of software with friendly user interfaces exist, and they are often easier to use. In order to use the command line, you will have to be familiar with often arcane tools and memorize stuff.</p>
<p>Why would you want to use the command line then?</p>
<p>Because, for certain types of tasks, it is often quick and efficient to use the command line. You can “chain” or compose separate programs that do different things together. You can also save fairly complicated tasks in the form of scripts for later use, and share them with your colleagues.</p>
<p>Learning to use the command line well will leave more power on your hands.</p>
</section>
</section>
<section id="the-shell" class="level1">
<h1>The shell</h1>
<p>A shell is an interactive program that accepts commands and passes those commands to the operating systems to execute.</p>
<p>In the shell, you type a command, hit enter, and the command gets executed. Shell is the program that is responsible for accepting your commands, executing them, and printing the results on a console.</p>
<p>The screenshot below shows a how this works in practice: using a terminal program, I’m using <code>ssh</code> command to access the host <code>lnx201.classe.cornell.edu</code> (just <code>lnx201</code> henceforth), and then I’m running some commands on <code>lnx201</code>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./lnx201.png" class="img-fluid figure-img"></p>
<figcaption>shell screenshot</figcaption>
</figure>
</div>
<p>Nearly all Linux distributions ship a shell named <code>bash</code>. In the <code>lnx201</code> environment that you access, <code>bash</code> is the default shell. You will be staring at a bash prompt when you ssh to <code>lnx201</code>.</p>
<p>Although <code>bash</code> is the most popular shell, many other shells exist too: <code>csh</code>, <code>ksh</code>, <code>dash</code>, <code>zsh</code>, and so on. But let us not get distracted and just commit to <code>bash</code> for now.</p>
<section id="shell-history" class="level2">
<h2 class="anchored" data-anchor-id="shell-history">Shell history</h2>
<ul>
<li>up/down keys</li>
<li><code>history</code></li>
<li><code>Control + R</code></li>
</ul>
<!-- TODO -->
</section>
<section id="command-completion" class="level2">
<h2 class="anchored" data-anchor-id="command-completion">Command completion</h2>
<!-- TODO -->
<ul>
<li>Using the tab key</li>
</ul>
</section>
<section id="exiting-a-shell" class="level2">
<h2 class="anchored" data-anchor-id="exiting-a-shell">Exiting a shell</h2>
<ul>
<li><code>exit</code></li>
<li><code>Control + D</code></li>
</ul>
</section>
</section>
<section id="environment-variables" class="level1">
<h1>Environment variables</h1>
<p>During a session, the shell maintains some information in what is known as <em>environment variables</em>. They are pairs of key and value: programs can look up values by keys, and change their behavior accordingly.</p>
<p>To list the environment variables present in your session, use <code>printenv</code> command:</p>
<pre class="console"><code>[ssasidharan@lnx201 ~]$ printenv
HOSTNAME=lnx201.classe.cornell.edu
TERM=xterm-256color
SHELL=/bin/bash
HISTSIZE=1000
SSH_CLIENT=152.54.3.220 50338 22
SSH_TTY=/dev/pts/6
USER=ssasidharan
MAIL=/var/spool/mail/ssasidharan
PATH=/usr/lib64/qt-3.3/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/puppetlabs/bin:/home/ssasidharan/bin
PWD=/home/ssasidharan
LANG=en_US.UTF-8
HOME=/home/ssasidharan</code></pre>
<p>I’m omitting a whole bunch of stuff here for the sake of brevity, but you get the idea.</p>
<p>Some of these environment variables are worth knowing:</p>
<ul>
<li><code>USER</code> is your username on <code>lnx201</code>.</li>
<li><code>HOME</code> is your “home” directory on <code>lnx201</code>. This is where you keep your files and folders.</li>
<li><code>SHELL</code> is the shell you use currently.</li>
<li><code>PATH</code> is a list of directory names, separated by <code>:</code> (colon) character. When you enter a command on the shell prompt, the shell will use <code>PATH</code> to locate the program that it needs to run.</li>
</ul>
<section id="how-bash-sets-up-the-environment" class="level2">
<h2 class="anchored" data-anchor-id="how-bash-sets-up-the-environment">How bash sets up the environment</h2>
<ul>
<li>login shells, non-login shells</li>
<li>/etc/profile, ~/.bash_profile</li>
<li>/etc/bashrc, ~/.bashrc</li>
</ul>
</section>
<section id="changing-environment-variables" class="level2">
<h2 class="anchored" data-anchor-id="changing-environment-variables">Changing environment variables</h2>
<ul>
<li><code>export</code> command</li>
<li><code>echo $HOME</code> command</li>
</ul>
</section>
</section>
<section id="directory-navigation" class="level1">
<h1>Directory navigation</h1>
<p>Linux organizes directories and files in a <em>hierarchical directory structure</em>, meaning, they are organized in a tree-like pattern.</p>
<ul>
<li>TODO: files, directories</li>
</ul>
<section id="directory-structure" class="level2">
<h2 class="anchored" data-anchor-id="directory-structure">Directory structure</h2>
<p>The first, or top-level directory of this tree is a special directory, called the “root directory”, or <code>/</code>. All other directories are under the root directory. You can list things under <code>/</code> with the command <code>ls /</code>:</p>
<pre class="console"><code>[user@lnx201 ~]$ ls /
bin   cdat  cvmfs  etc   lib    media  mnt  nfs   opt   root  sbin  sys  usr
boot  cifs  dev    home  lib64  misc   net  null  proc  run   srv   tmp  var</code></pre>
<p>It is useful to know about some of these directories:</p>
<ul>
<li><code>home</code> is where user home directories are.
<ul>
<li><code>root</code> is the home directory for <code>root</code> user, aka superuser.</li>
</ul></li>
<li><code>bin</code> and <code>sbib</code> are for programs.</li>
<li><code>lib</code> and <code>lib64</code> are for libraries.</li>
<li><code>etc</code> is for configuration files.</li>
<li><code>tmp</code> is for temporary files</li>
<li><code>proc</code> provides an interface with processes.</li>
</ul>
</section>
<section id="absolute-and-relative-paths" class="level2">
<h2 class="anchored" data-anchor-id="absolute-and-relative-paths">Absolute and relative paths</h2>
<!-- TODO -->
</section>
<section id="wildcard-operator" class="level2">
<h2 class="anchored" data-anchor-id="wildcard-operator">Wildcard operator</h2>
<!-- TODO -->
<ul>
<li><code>*</code></li>
<li>use <code>*</code> carefully with <code>rm</code></li>
</ul>
</section>
<section id="the-current-working-directory" class="level2">
<h2 class="anchored" data-anchor-id="the-current-working-directory">The current working directory</h2>
<p>At any time in the shell, we are “inside” a single directory, known as the current working directory. When you list files with <code>ls</code>, a list of files and directories of the current working directory will be printed on the output.</p>
<p>When you log in to <code>lnx201</code>, initially you will be in a directory named <code>/home/${USER}</code>, where <code>${USER}</code> is your username on <code>lnx201</code>. This is what is known as your /home directory/. When you log in first, your home directory will be your current working directory.</p>
<p>To find where you are, use the command <code>pwd</code>.</p>
<p>The below commands are useful:</p>
<ul>
<li><code>mkdir test</code> will create a directory named <code>test</code></li>
<li><code>cd test</code> will change the working directory to <code>test</code>.</li>
<li><code>ls</code> will list files and directories in the current working directory.</li>
<li><code>rm</code> will remove a file.</li>
<li><code>rm &lt;name of directory&gt;</code> will <em>not</em> remove a directory; you have to remove it <em>recursively</em>, like so: <code>rm -r &lt;name of directory&gt;</code>.</li>
</ul>
<p><code>cd -</code> is useful: it will switch you to the directory that you were previously in.</p>
<p><code>.</code> and <code>..</code> are special directory names: <code>.</code> means the current directory, and <code>..</code> means its parent directory, or the directory above it in the directory hierarchy.</p>
<p><code>touch</code> command is used to change file timestamps. You can also use <code>touch</code> to create an empty file, like so: <code>touch test.txt</code>.</p>
<ul>
<li>TODO: directory navigation: ls, cd, mkdir, rm, ln, pwd, touch</li>
</ul>
</section>
<section id="users-and-groups" class="level2">
<h2 class="anchored" data-anchor-id="users-and-groups">Users and groups</h2>
<p>Linux is a multi-user operating system. Since many people can be using the system, there needs to be mechanisms in place to ensure separation between them, while ensuring that they can access shared resources when necessary.</p>
<p>The basic mechanism is the concept of users and groups.</p>
<p>The root user is a special user that has all the permissions. They can change most things about the system. The root user can change system configuration, add and remove users and groups, etc.</p>
<p>Most of the time, we do not need neither the power nor the responsibilities of the root user. So we have a non-root, <em>regular</em> user account in <code>lnx201</code>.</p>
<p>Your account also belongs to certain <em>groups</em>. Groups are the way to grant permission to a group of accounts. You can find the groups you belong to using <code>groups</code> command:</p>
<pre class="console"><code>[ssasidharan@lnx201 ~]$ groups
chess classeuser
[ssasidharan@lnx201 ~]$</code></pre>
<p>Users and groups have distinct numerical identifiers too. You can find them with <code>id</code> command:</p>
<pre class="console"><code>[ssasidharan@lnx201 ~]$ id
uid=63499(ssasidharan) gid=262(chess) groups=262(chess),750(classeuser)</code></pre>
<p>If you run <code>ls -l</code> (<code>-l</code> is for long listing format) command to list files and folders in your home directory, the result will be something like this:</p>
<pre class="console"><code>[ssasidharan@lnx201 ~]$ ls -l
total 4
drwxr-xr-x 2 ssasidharan chess   28 Mar 28 09:36 bin
drwxr-xr-x 2 ssasidharan chess  144 Mar 12 00:27 CLASSE_shortcuts
drwxr-xr-x 2 ssasidharan chess   30 Mar 26 15:22 Desktop
drwxr-xr-x 2 ssasidharan chess    6 Mar 26 15:21 Documents
lrwxrwxrwx 1 ssasidharan chess   31 Mar 26 15:21 Downloads -&gt; /cdat/tem/ssasidharan/Downloads
-rw-r--r-- 1 ssasidharan chess 3254 Mar  7 15:55 helloworld.ipynb
drwxr-xr-x 2 ssasidharan chess    6 Mar 26 15:21 Music
drwxr-xr-x 2 ssasidharan chess    6 Mar 26 15:21 Pictures
drwxr-xr-x 2 ssasidharan chess    6 Mar 26 15:21 Public
drwxr-xr-x 2 ssasidharan chess    6 Mar 26 15:21 Templates
drwxr-xr-x 2 ssasidharan chess    6 Mar 26 15:21 Videos</code></pre>
<p>Let us see what the above columns means:</p>
<ul>
<li>The first column lists permissions on the file/folder. (We will see what this means in the next section.)</li>
<li>The second column shows number of links to it.</li>
<li>The third one shows the user who owns it.</li>
<li>The fourth one shows the group that owns the file.</li>
<li>The fifth one is the size of the file in bytes. Note that directories are a little special here – what you see here is not the total size of all the files and folders under the directory, but the space the directory itself uses on disk.</li>
<li>The next column (the whole <code>Mar 26 15:21</code> segment) shows a timestamp when the file/folder was last modified.</li>
<li>Finally, the name of the file/folder. Note that <code>Downloads -&gt;   /cdat/tem/ssasidharan/Downloads</code> is a bit special: it means that <code>Downloads</code> folder is in fact a link to <code>/cdat/tem/ssasidharan/Downloads</code>.</li>
</ul>
</section>
<section id="permissions-and-ownership" class="level2">
<h2 class="anchored" data-anchor-id="permissions-and-ownership">Permissions and ownership</h2>
<p>Let us see what a string like <code>drwxr-xr-x</code> from the above example means. This string, sometimes called “permission bits” or “file mode bits”, is ten characters long. Each of the characters are shorthand signifying something.</p>
<ul>
<li>The first <code>d</code> stands for <code>directory</code>. (For files, this will be a <code>-</code>.)</li>
<li>The next three <code>rwx</code> are for user’s permissions.</li>
<li>The next three <code>r-x</code> are for group permissions.</li>
<li>The final three <code>r-x</code> are for permissions for the rest of the users.</li>
</ul>
<p>Now, what do those <code>r</code> and <code>w</code> and <code>x</code> mean?</p>
<ul>
<li><code>r</code> means permission to <strong>r</strong>ead.</li>
<li><code>w</code> means permission to <strong>w</strong>rite.</li>
<li><code>x</code> means permission to e<strong>x</strong>ecute, in the case of files. In the case of directories, <code>x</code> means that you can <code>cd</code> into them.</li>
</ul>
<section id="changing-permissions-with-chmod" class="level3">
<h3 class="anchored" data-anchor-id="changing-permissions-with-chmod">Changing permissions with <code>chmod</code></h3>
<p>You can use <code>chmod</code> command to change permissions. If you create a shell script named <code>test.sh</code>, for example, it won’t be executable by default. You will have to change the file mode bits using <code>chmod</code>:</p>
<pre class="console"><code>[ssasidharan@lnx201 ~]$ ls -l test.sh
-rw-r--r-- 1 ssasidharan chess 0 Mar 28 13:39 test.sh
[ssasidharan@lnx201 ~]$ ./test.sh
-bash: ./test.sh: Permission denied
[ssasidharan@lnx201 ~]$ chmod +x test.sh
[ssasidharan@lnx201 ~]$ ls -l test.sh
-rwxr-xr-x 1 ssasidharan chess 0 Mar 28 13:39 test.sh
[ssasidharan@lnx201 ~]$ ./test.sh</code></pre>
<p>You can remove the <code>x</code> bit like so:</p>
<pre><code>[ssasidharan@lnx201 ~]$ chmod -x test.sh
[ssasidharan@lnx201 ~]$ ls -l test.sh
-rw-r--r-- 1 ssasidharan chess 0 Mar 28 13:39 test.sh</code></pre>
<p>You can also grant permission to just the <strong>o</strong>wner, or <strong>g</strong>roup, or others:</p>
<pre class="console"><code>[ssasidharan@lnx201 ~]$ chmod u+x test.sh
[ssasidharan@lnx201 ~]$ ls -l test.sh
-rwxr--r-- 1 ssasidharan chess 0 Mar 28 13:39 test.sh
[ssasidharan@lnx201 ~]$ chmod g+x test.sh
[ssasidharan@lnx201 ~]$ ls -l test.sh
-rwxr-xr-- 1 ssasidharan chess 0 Mar 28 13:39 test.sh
[ssasidharan@lnx201 ~]$ chmod o+x test.sh
[ssasidharan@lnx201 ~]$ ls -l test.sh
-rwxr-xr-x 1 ssasidharan chess 0 Mar 28 13:39 test.sh</code></pre>
<p>You can also combine <code>u</code>, <code>g</code>, <code>o</code> bits and <code>r</code>, <code>w</code>, <code>x</code> bits with <code>+</code> or <code>-</code>:</p>
<pre class="console"><code>[ssasidharan@lnx201 ~]$ chmod ugo-r test.sh
[ssasidharan@lnx201 ~]$ ls -l test.sh
--wx--x--x 1 ssasidharan chess 0 Mar 28 13:39 test.sh</code></pre>
<p>I just made the file unreadable by everyone, even me!</p>
<pre class="console"><code>[ssasidharan@lnx201 ~]$ cat test.sh
cat: test.sh: Permission denied</code></pre>
<p>Of course you can restore the permission with <code>chmod ugo+r test.sh</code></p>
<p>Note that when invoking <code>chmod</code>, <code>a</code> (or <strong>a</strong>ll) is equivalent of <code>ugo</code> (user + group + others). You can also omit <code>a</code> or <code>ugo</code> if you want everyone to have the same permissions. So the below all are equivalent:</p>
<pre class="console"><code>[ssasidharan@lnx201 ~]$ chmod ugo+r test.sh
[ssasidharan@lnx201 ~]$ chmod a+r test.sh
[ssasidharan@lnx201 ~]$ chmod +r test.sh</code></pre>
<p>(If you want to change owner or group of a file/folder, you can do that with <code>chown</code> and <code>chgrp</code>. This probably is not immediately useful; it is enough to know that these commands exist.)</p>
</section>
</section>
<section id="symbolic-links" class="level2">
<h2 class="anchored" data-anchor-id="symbolic-links">Symbolic links</h2>
<p>TODO</p>
</section>
<section id="noteworthy-facts-about-file-names" class="level2">
<h2 class="anchored" data-anchor-id="noteworthy-facts-about-file-names">Noteworthy facts about file names</h2>
<ul>
<li><p>File/folder names that begin with a <code>.</code> (period character) are “hidden”: meaning that they will not be listed in the output of <code>ls</code> command by default. You can list them with <code>ls -a</code>. They are also called <em>dotfiles</em>.</p>
<p>Configuration files for the programs you use (such as <code>.bashrc</code> for bash configuration) are often saved in hidden files. This way they usually stay out of your way without creating a clutter.</p></li>
<li><p>File/folder names and commands are case sensitive in Linux. Thus <code>Notes.txt</code> and <code>notes.txt</code> and <code>NOTES.TXT</code> are all distinct files.</p></li>
<li><p>As a matter of convenience, it is better to avoid spaces and special characters in file/folder names, as it will make tasks a little more difficult. If you need to represent spaces between words, you can replace spaces with <code>_</code> (the underscore character).</p></li>
</ul>
</section>
</section>
<section id="standard-input-output-and-error" class="level1">
<h1>Standard input, output, and error</h1>
<p>Nearly all programs produce output of some kind, and quite often they also accept input.</p>
<p>Following the Unix tradition of “everything is a file”, programs send their output to special files called <em>standard output</em> or <em>standard error</em><code>, and they read input from _standard input_.  They are also known as</code>stdout<code>,</code>stderr<code>, and</code>stdin`, respectively.</p>
<section id="io-redirection" class="level2">
<h2 class="anchored" data-anchor-id="io-redirection">I/O redirection</h2>
<p>I/O redirection lets us to change where standard output gets printed. To redirect standard output, we use the <code>&gt;</code> operator.</p>
<pre class="console"><code>[ssasidharan@lnx201 ~]$ ls -l &gt; ls-output.txt</code></pre>
<p>As a result of redirection, a new file named <code>ls-output.txt</code> will be created. You can view its contents using <code>cat</code> command.</p>
<pre class="console"><code>[ssasidharan@lnx201 ~]$ ls -l ls-output.txt
-rw-r--r-- 1 ssasidharan chess 807 Apr  1 17:32 ls-output.txt
[ssasidharan@lnx201 ~]$ cat ls-output.txt
total 4
drwxr-xr-x 2 ssasidharan chess   28 Mar 28 09:36 bin
drwxr-xr-x 2 ssasidharan chess  144 Mar 12 00:27 CLASSE_shortcuts
drwxr-xr-x 2 ssasidharan chess   30 Mar 26 15:22 Desktop
drwxr-xr-x 2 ssasidharan chess    6 Mar 26 15:21 Documents
lrwxrwxrwx 1 ssasidharan chess   31 Mar 26 15:21 Downloads -&gt; /cdat/tem/ssasidharan/Downloads
-rw-r--r-- 1 ssasidharan chess 3254 Mar  7 15:55 helloworld.ipynb
-rw-r--r-- 1 ssasidharan chess    0 Apr  1 17:32 ls-output.txt
drwxr-xr-x 2 ssasidharan chess    6 Mar 26 15:21 Music
drwxr-xr-x 2 ssasidharan chess    6 Mar 26 15:21 Pictures
drwxr-xr-x 2 ssasidharan chess    6 Mar 26 15:21 Public
drwxr-xr-x 2 ssasidharan chess    6 Mar 26 15:21 Templates
-rwxr-xr-x 1 ssasidharan chess    0 Mar 28 13:39 test.sh
drwxr-xr-x 2 ssasidharan chess    6 Mar 26 15:21 Videos</code></pre>
<p>Note that if there already was a file named <code>ls-output.txt</code>, the redirection above would have overwritten its contents. You want to be careful about this.</p>
<p>What if you want to discard <code>stdout</code> completely? You can redirect it to the special file <code>/dev/null</code>:</p>
<pre class="console"><code>[ssasidharan@lnx201 ~]$ ls -l &gt;&gt; ls-output.txt</code></pre>
<p>If you want to append <code>stdout</code> to a file instead of overwriting it, you can use <code>&gt;&gt;</code> operator:</p>
<pre class="console"><code>[ssasidharan@lnx201 ~]$ ls -l &gt;&gt; ls-output.txt</code></pre>
<p>The <code>&lt;</code> operator is a sort of inverse of the <code>&gt;</code> operator:</p>
<pre class="console"><code>[ssasidharan@lnx201 ~]$ echo "Shall I compare thee to a summer’s day?" &gt; sonnet18.txt
[ssasidharan@lnx201 ~]$ cat sonnet18.txt
Shall I compare thee to a summer’s day?
[ssasidharan@lnx201 ~]$ cat &lt; sonnet18.txt
Shall I compare thee to a summer’s day?</code></pre>
<p>(TODO: explain the above: <code>echo</code> and the different usage of <code>cat</code>.)</p>
</section>
<section id="pipes" class="level2">
<h2 class="anchored" data-anchor-id="pipes">Pipes</h2>
<p>Programs can write to standard output. Programs can also read from standard input. This means we can “chain” them together, such that one programs standard output is “piped” into another program’s standard input.</p>
<p>The operator to do this is <code>|</code> (vertical bar), also known as a pipe, and it is used in this manner: <code>command1 | command2</code>.</p>
<pre class="console"><code>[ssasidharan@lnx201 ~]$ ls -l /bin/ | less</code></pre>
<p>The output of <code>ls -l /bin</code> is fairly large, so we pipe it into <code>less</code>, which allows you to scroll the output backward and forward, using <em>up</em> and <em>down</em> keyboard keys.</p>
<p>You can form longer pipes like this:</p>
<pre class="console"><code>[ssasidharan@lnx201 ~]$ ls /bin /usr/bin /sbin /usr/sbin | sort | uniq | wc
   4289    4288   46820</code></pre>
<ul>
<li><code>sort</code> will sort lines of text files.</li>
<li><code>uniq</code> is used to filter adjacent matching lines the output of <code>sort</code>.</li>
<li><code>wc</code> is a <strong>w</strong>ord <strong>c</strong>ount program. It counts lines, words, and bytes present in its input.</li>
</ul>
</section>
</section>
<section id="controlling-processes" class="level1">
<h1>Controlling processes</h1>
<p>When you run a command, it results in what is called a <em>process</em>. Processes are running instances of programs which use CPU, memory, and possibly other resources.</p>
<section id="listing-processes" class="level2">
<h2 class="anchored" data-anchor-id="listing-processes">Listing processes</h2>
<p>You can list running processes using <code>ps</code> command:</p>
<pre class="console"><code>[ssasidharan@lnx201 ~]$ ps
    PID TTY          TIME CMD
 694411 pts/81   00:00:00 ps
3479688 pts/81   00:00:00 bash</code></pre>
<p>By default, <code>ps</code> prints processes of the current user and terminal in four columns:</p>
<ul>
<li><code>PID</code> is process id.</li>
<li><code>TTY</code> is the terminal associated with the process.</li>
<li><code>TIME</code> is the elapsed CPU time for the process.</li>
<li><code>CMD</code> is the command that created the process.</li>
</ul>
<p>Usually there are many more processes running in the system, and sometimes they were started by other users. You can list them, with more detail, by passing some options to <code>ps</code>:</p>
<pre class="console"><code>[ssasidharan@lnx201 ~]$ ps -ef | head
UID          PID    PPID  C STIME TTY          TIME CMD
root           1       0  0 Jan10 ?        03:14:05 /usr/lib/systemd/systemd --switched-root --system --deserialize 22
root           2       0  0 Jan10 ?        00:01:12 [kthreadd]
root           6       2  0 Jan10 ?        00:12:16 [ksoftirqd/0]
root           7       2  0 Jan10 ?        00:01:10 [migration/0]
root           8       2  0 Jan10 ?        00:00:00 [rcu_bh]
root           9       2  0 Jan10 ?        11:14:26 [rcu_sched]
root          10       2  0 Jan10 ?        00:00:00 [lru-add-drain]
root          11       2  0 Jan10 ?        00:05:22 [watchdog/0]
root          12       2  0 Jan10 ?        00:00:24 [watchdog/1]</code></pre>
<p>Run <code>man ps</code> for details.</p>
<p>Programs like <code>top</code> and <code>htop</code> will list processes in friendlier, fancier format.</p>
</section>
<section id="background-and-foreground-processes" class="level2">
<h2 class="anchored" data-anchor-id="background-and-foreground-processes">Background and foreground processes</h2>
<p>By default, commands run in the <em>foreground</em>: they do their thing, use the terminal (to read input, print output), and finally exit. You need to wait for a foreground process to end before you start the next one, or use another terminal.</p>
<p>When have a long-running process, you have the option of sending it to the <em>background</em>, using the <code>&amp;</code> operator:</p>
<pre class="console"><code>[ssasidharan@lnx201 ~]$ sleep 100 &amp;
[1] 949751</code></pre>
<p>You can use <code>Control + Z</code> to stop a foreground process and send it to the background:</p>
<pre><code>[ssasidharan@lnx201 ~]$ sleep 100
^Z
[1]+  Stopped                 sleep 100</code></pre>
<p>You can list background processes using <code>jobs</code> command:</p>
<pre class="console"><code>[ssasidharan@lnx201 ~]$ jobs
[1]-  Running                 sleep 100 &amp;
[2]+  Stopped                 sleep 100</code></pre>
<p>You can bring a background process to foreground using <code>fg</code> command, and you can terminate it using <code>Control + C</code>:</p>
<pre class="console"><code>[ssasidharan@lnx201 ~]$ fg 2
sleep 100
^C
[ssasidharan@lnx201 ~]$</code></pre>
<p>You can use <code>bg</code> command to resume a stopped background process:</p>
<pre class="console"><code>[ssasidharan@lnx201 ~]$ sleep 100 &amp;
[1] 1746205
[ssasidharan@lnx201 ~]$ sleep 100
^Z
[2]+  Stopped                 sleep 100
[ssasidharan@lnx201 ~]$ jobs
[1]-  Running                 sleep 100 &amp;
[2]+  Stopped                 sleep 100
[ssasidharan@lnx201 ~]$ bg %2
[2]+ sleep 100 &amp;</code></pre>
</section>
<section id="terminating-processes" class="level2">
<h2 class="anchored" data-anchor-id="terminating-processes">Terminating processes</h2>
<p>Sometimes you might want to terminate a program, perhaps because it is using too much CPU or memory. You can find out the offending program’s ID using <code>ps</code> or <code>top</code> or <code>htop</code>, and then you can use <code>kill</code> command to end the process.</p>
<p>By default, <code>kill</code> sends a signal called <code>SIGTERM</code> (more on signals later). If <code>SIGTERM</code> is unable to terminate the process (such as when the program is ignoring <code>SIGTERM</code>), you can try <code>SIGKILL</code>:</p>
<pre class="console"><code>[ssasidharan@lnx201 ~]$ ps
    PID TTY          TIME CMD
 796679 pts/116  00:00:00 bash
1185454 pts/116  00:00:00 ps
1748299 pts/116  00:00:00 sleep
[ssasidharan@lnx201 ~]$ kill 1748299
[ssasidharan@lnx201 ~]$ ps
    PID TTY          TIME CMD
 796679 pts/116  00:00:00 bash
1203470 pts/116  00:00:00 ps
1748299 pts/116  00:00:00 sleep
[ssasidharan@lnx201 ~]$ kill -SIGKILL 1748299
[2]+  Killed                  sleep 100</code></pre>
<p>You can use <code>killall</code> command to kill processes by name:</p>
<pre class="console"><code>[ssasidharan@lnx201 ~]$ killall sleep
sleep(1469283): Operation not permitted
sleep(1509215): Operation not permitted
sleep: no process found</code></pre>
<p>In the above example, you are not running a <code>sleep</code> process, but some other users are, but you are not allowed to terminate them.</p>
</section>
<section id="signals" class="level2">
<h2 class="anchored" data-anchor-id="signals">Signals</h2>
<p>As mentioned above, <code>kill</code> command sends <em>signals</em> to running processes, and we’ve already seen <code>SIGTERM</code> and <code>SIGKILL</code>. Signals are a process control mechanism. They are used to stop, resume, or terminate processes, and more.</p>
<p>When we use <code>Control + C</code> or <code>Control + Z</code>, we are sending signals to process – <code>SIGINT</code> (or “keyboard interrupt”) and <code>SIGTSTP</code> (or “terminal stop”), respectively.</p>
<p>Signals have numbers: <code>SIGKILL</code> is 9, so you can use <code>kill -9 &lt;pid&gt;</code> instead of <code>kill -SIGKILL &lt;pid&gt;</code>. You can also omit the <code>SIG</code> prefix, and use <code>kill -KILL &lt;pid&gt;</code>.</p>
<p>Here are some common signals:</p>
<!-- TODO: edit below; copy-pasted from `man 7 signal` -->
<pre><code>       Signal     Value     Action   Comment
       ──────────────────────────────────────────────────────────────────────
       SIGHUP        1       Term    Hangup detected on controlling terminal
                                     or death of controlling process
       SIGINT        2       Term    Interrupt from keyboard
       SIGQUIT       3       Core    Quit from keyboard
       SIGILL        4       Core    Illegal Instruction
       SIGABRT       6       Core    Abort signal from abort(3)
       SIGFPE        8       Core    Floating point exception
       SIGKILL       9       Term    Kill signal
       SIGSEGV      11       Core    Invalid memory reference
       SIGPIPE      13       Term    Broken pipe: write to pipe with no
                                     readers
       SIGALRM      14       Term    Timer signal from alarm(2)
       SIGTERM      15       Term    Termination signal</code></pre>
<p>Run the command <code>man 7 signal</code> to read <code>signal</code> command’s manual page.</p>
</section>
</section>
<section id="useful-commands" class="level1">
<h1>Useful commands</h1>
<section id="a-cheat-sheet" class="level2">
<h2 class="anchored" data-anchor-id="a-cheat-sheet">A cheat sheet</h2>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Command</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>echo</code></td>
<td></td>
</tr>
<tr class="even">
<td><code>cat</code></td>
<td></td>
</tr>
<tr class="odd">
<td><code>head</code></td>
<td></td>
</tr>
<tr class="even">
<td><code>tail</code></td>
<td></td>
</tr>
<tr class="odd">
<td><code>more</code></td>
<td></td>
</tr>
<tr class="even">
<td><code>less</code></td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>ls</code></td>
<td></td>
</tr>
<tr class="odd">
<td><code>mkdir</code></td>
<td></td>
</tr>
<tr class="even">
<td><code>cd</code></td>
<td></td>
</tr>
<tr class="odd">
<td><code>cp</code></td>
<td></td>
</tr>
<tr class="even">
<td><code>rm</code></td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>sed</code></td>
<td></td>
</tr>
<tr class="even">
<td><code>awk</code></td>
<td></td>
</tr>
<tr class="odd">
<td><code>grep</code></td>
<td></td>
</tr>
<tr class="even">
<td><code>sleep</code></td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>tree</code></td>
<td></td>
</tr>
<tr class="odd">
<td><code>find</code></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>du</code></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>gzip</code></td>
<td></td>
</tr>
<tr class="even">
<td><code>tar</code></td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>ps</code></td>
<td></td>
</tr>
<tr class="odd">
<td><code>top</code></td>
<td></td>
</tr>
<tr class="even">
<td><code>htop</code></td>
<td></td>
</tr>
<tr class="odd">
<td><code>kill</code></td>
<td></td>
</tr>
<tr class="even">
<td><code>killall</code></td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>ping</code></td>
<td></td>
</tr>
<tr class="odd">
<td><code>netstat</code></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>ifconfig</code></td>
<td></td>
</tr>
<tr class="even">
<td><code>ip</code></td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>hostname</code></td>
<td></td>
</tr>
<tr class="odd">
<td><code>uname</code></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>date</code></td>
<td></td>
</tr>
<tr class="even">
<td><code>cal</code></td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>clear</code></td>
<td></td>
</tr>
<tr class="odd">
<td><code>history</code></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>ssh</code></td>
<td></td>
</tr>
<tr class="even">
<td><code>scp</code></td>
<td></td>
</tr>
<tr class="odd">
<td><code>sftp</code></td>
<td></td>
</tr>
<tr class="even">
<td><code>ftp</code></td>
<td></td>
</tr>
<tr class="odd">
<td><code>wget</code></td>
<td></td>
</tr>
<tr class="even">
<td><code>curl</code></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="shell-builtins" class="level2">
<h2 class="anchored" data-anchor-id="shell-builtins">Shell builtins</h2>
<ul>
<li><code>type</code></li>
<li><code>which</code></li>
</ul>
</section>
<section id="aliases" class="level2">
<h2 class="anchored" data-anchor-id="aliases">Aliases</h2>
</section>
</section>
<section id="regular-expressions" class="level1">
<h1>Regular expressions</h1>
<ul>
<li>grep</li>
<li>awk</li>
<li>sed</li>
</ul>
</section>
<section id="editors" class="level1">
<h1>Editors</h1>
<ul>
<li><code>nano</code></li>
<li><code>vim</code></li>
<li><code>emacs</code></li>
</ul>
</section>
<section id="writing-shell-scripts" class="level1">
<h1>Writing shell scripts</h1>
<p>The shell also provides a little programming language. You can write commands in a file called a <em>shell script</em>, and make it executable. Shell scripts usually have a <code>.sh</code> filename extension.</p>
<p>Shell scripts are useful when you need to run some complex sequence of commands often.</p>
<p>Here is a simple shell script:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co">#! /usr/bin/env bash</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="co"># A simple script.</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"Hello world!"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<!-- TODO: describe shebang, comments, commands -->
<p>Assuming we name the script <code>hello.sh</code>, we can make it executable with <code>chmod</code>, and run <code>hello.sh</code>:</p>
<pre class="console"><code>[ssasidharan@lnx201 ~]$ chmod +x hello.sh
[ssasidharan@lnx201 ~]$ ./hello.sh
Hello world!</code></pre>
<p>Bash provides some useful constructs such as loops and functions.</p>
<ul>
<li>loops</li>
<li>functions</li>
<li>seq</li>
<li>~/.local/bin or $HOME/bin maybe?</li>
</ul>
</section>
<section id="nifty-terminal-multiplexers" class="level1">
<h1>Nifty: terminal multiplexers</h1>
<ul>
<li><code>tmux</code></li>
<li><code>screen</code></li>
</ul>
</section>
<section id="finding-help-and-documentation" class="level1">
<h1>Finding help and documentation</h1>
<ul>
<li>finding help: man, info, the web</li>
</ul>
</section>
<section id="further-reading" class="level1">
<h1>Further reading</h1>
<ul>
<li>https://missing.csail.mit.edu/2020/shell-tools/</li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/RENCI-NRIG\.github\.io\/X-CITE\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>